import{d as D,c as u,f as c,o as A,x as P,w as C,M as S,H as m,U as s,ai as r,a8 as E,O as $,y as N,am as T,G as v,V as z,W as M,_ as V,F as U,a1 as H,k as L,al as O,g as G}from"./chunks/framework.Dt0boiFn.js";const g=d=>(z("data-v-c627a1fe"),d=d(),M(),d),J={class:"show-img-cont"},R=g(()=>s("div",{class:"icon"},"✕",-1)),W=[R],K=g(()=>s("div",{class:"icon icon-v"},"⟳",-1)),Q=[K],X=g(()=>s("div",{class:"icon"},"◀︎",-1)),Y=[X],Z=g(()=>s("div",{class:"icon"},"▶︎",-1)),ee=[Z],ae=["src"],te=D({__name:"preview",props:{modelValue:{type:Boolean,default:!1},index:{type:Number,default:0},list:{type:Array,required:!0},blankClose:{type:Boolean,default:!1},zIndex:{type:Number,default:3001}},emits:["update:modelValue"],setup(d,{emit:b}){T(e=>({"0ace4315":w.value,"034688ec":k.value,c81e3ad4:_.value}));const l=d,p=b,n=u(()=>{var e;return(e=l.list)!=null&&e.length?l.list:[]}),h=c(0),a=c(0),t=c(600),k=u(()=>`${t.value}px`),i=c(0),_=u(()=>`${i.value*90}deg`),w=u(()=>l.zIndex);A(()=>{P(()=>{document.addEventListener("keyup",e=>{e.keyCode===27&&f()}),document.addEventListener("mousewheel",e=>{if(e.wheelDelta<0){const o=t.value+Math.abs(e.wheelDelta);t.value=o>1e3?1e3:o}else{const o=t.value-Math.abs(e.wheelDelta);t.value=o<600?600:o}})})}),C(()=>l.index,()=>{a.value=l.index},{immediate:!0}),C(()=>l.modelValue,e=>{e===!0?document.body.setAttribute("class","jw-body-hidden"):document.body.removeAttribute("jw-body-hidden")},{immediate:!0});function f(){y(),p("update:modelValue",!1)}function F(e){e.stopPropagation(),l.blankClose&&f()}function I(e){e.stopPropagation(),a.value!==0&&(y(),a.value>=1&&(a.value=a.value-1))}function j(e){e.stopPropagation(),a.value!==n.value.length&&(y(),a.value<n.value.length-1&&(a.value=a.value+1))}function y(){i.value=0,t.value=600}function q(){i.value=i.value===3?0:++i.value}function B(e){h.value=e}return(e,o)=>{var x;return v(),S(N,{to:"body"},[d.modelValue?(v(),m("div",{key:0,class:"show-img-box",onClick:F},[s("div",J,[s("div",{class:"show-img-close vp-dja",onClick:r(f,["stop"])},W),s("div",{class:"show-img-rotate vp-dja",onClick:r(q,["stop"])},Q),s("div",{style:E({cursor:a.value===0?"not-allowed":"pointer"}),class:"show-img-left vp-dja",onClick:r(I,["stop"])},Y,4),s("div",{style:E({cursor:a.value===n.value.length-1?"not-allowed":"pointer"}),class:"show-img-right vp-dja",onClick:r(j,["stop"])},ee,4),s("img",{class:"show-img-img",src:(x=n.value)==null?void 0:x[a.value],onClick:o[0]||(o[0]=r(ce=>B(a.value),["stop"]))},null,8,ae)])])):$("",!0)])}}}),se=V(te,[["__scopeId","data-v-c627a1fe"]]),ie=O("",4),le={class:"img-box"},ne=["src","onClick"],ue=JSON.parse('{"title":"封装图片预览功能","description":"在vue中封装一个图片预览功能","frontmatter":{"title":"封装图片预览功能","description":"在vue中封装一个图片预览功能"},"headers":[],"relativePath":"web/vue/preview/index.md","filePath":"web/vue/preview/index.md","lastUpdated":1719018861000}'),oe={name:"web/vue/preview/index.md"},de=Object.assign(oe,{setup(d){const{proxy:b}=G(),l=["pc/wegame/luban.jpg","pc/wegame/juzi.jpg","pc/wegame/yunying.jpg"],p=u(()=>l.map(t=>b.$filterImgUrl(t))),n=c(!1),h=c(0);function a(t){h.value=t,n.value=!0}return(t,k)=>(v(),m("div",null,[ie,s("div",le,[(v(!0),m(U,null,H(p.value,(i,_)=>(v(),m("img",{key:i,class:"img",src:i,alt:"",onClick:w=>a(_)},null,8,ne))),128))]),L(se,{modelValue:n.value,"onUpdate:modelValue":k[0]||(k[0]=i=>n.value=i),index:h.value,list:p.value},null,8,["modelValue","index","list"])]))}}),ve=V(de,[["__scopeId","data-v-1b077256"]]);export{ue as __pageData,ve as default};
